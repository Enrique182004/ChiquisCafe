<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caf√© de Olla - Delivery Area Check</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/zip-check.css">
</head>
<body>
    <div class="zip-check-container">
        <div class="zip-check-card">
            <div class="zip-check-logo">
                <img src="images/logo.png" alt="Caf√© de Olla">
            </div>
            
            <h1>¬°Bienvenidos!</h1>
            <p>Welcome to Chiquis Cafe de Olla! Enter your zip code to check delivery and pickup options.</p>
            
            <div class="zip-input-group">
                <label for="zipCode">üìç Your Zip Code</label>
                <input 
                    type="text" 
                    id="zipCode" 
                    placeholder="79901" 
                    maxlength="5"
                    pattern="[0-9]{5}"
                    required
                >
            </div>
            
            <button class="btn btn-primary zip-check-btn" onclick="checkZipCode()">
                Check Availability
            </button>
            
            <div id="alertBox" class="alert-box"></div>
        </div>
    </div>
    
    <script>
        function checkZipCode() {
            const zipInput = document.getElementById('zipCode');
            const zipCode = zipInput.value.trim();
            const alertBox = document.getElementById('alertBox');
            
            // Validate zip code format
            if (zipCode.length !== 5 || !/^\d{5}$/.test(zipCode)) {
                alertBox.className = 'alert-box alert-warning show';
                alertBox.innerHTML = `
                    <h3>‚ö†Ô∏è Invalid Zip Code</h3>
                    <p>Please enter a valid 5-digit zip code.</p>
                `;
                return;
            }
            
            // Check if El Paso area (799xx)
            if (zipCode.startsWith('799')) {
                alertBox.className = 'alert-box alert-info show';
                alertBox.innerHTML = `
                    <h3>‚úÖ Local Delivery Available!</h3>
                    <p>Pickup and delivery available in El Paso.</p>
                `;
                
                // Save zip code to localStorage
                localStorage.setItem('userZipCode', zipCode);
                localStorage.setItem('deliveryArea', 'el-paso');
                
                // Redirect to main site after 2 seconds
                setTimeout(() => {
                    window.location.href = 'pages/home.html';
                }, 2000);
                
            } else {
                alertBox.className = 'alert-box alert-warning show';
                alertBox.innerHTML = `
                    <h3>üì¶ Shipping Available</h3>
                    <p>Pickup and delivery only available in El Paso (799xx). Shipping available to your area.</p>
                `;
                
                // Save zip code to localStorage
                localStorage.setItem('userZipCode', zipCode);
                localStorage.setItem('deliveryArea', 'outside');
                
                // Redirect to main site after 3 seconds
                setTimeout(() => {
                    window.location.href = 'pages/home.html';
                }, 3000);
            }
        }
        
        // Allow Enter key to submit
        document.getElementById('zipCode').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                checkZipCode();
            }
        });
        
        // Auto-focus on zip code input
        window.onload = function() {
            document.getElementById('zipCode').focus();
        };
    </script>
</body>
</html>